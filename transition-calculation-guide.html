<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>接続パターン計算ガイド - サイトスワップマスター</title>
    <meta name="description" content="サイトスワップの接続パターンを計算する手順を解説します">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@800&display=swap');

        main {
            max-width: 1000px !important;
        }

        .info-text ul li {
            word-break: break-all;
            line-height: 1.6;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: center;
        }

        .table_component {
            overflow: auto;
            width: 100%;
        }

        .table_component table {
            border: 1px solid #dededf;
            height: 100%;
            width: 100%;
            table-layout: auto;
            border-collapse: collapse;
            border-spacing: 1px;
            text-align: center;
        }

        .table_component caption {
            caption-side: top;
            text-align: left;
        }

        .table_component th {
            border: 1px solid #dededf;
            background-color: #3F72AF;
            color: #F9F7F7;
            padding: 5px;
        }

        .table_component td {
            border: 1px solid #dededf;
            background-color: #F9F7F7;
            color: #112D4E;
            padding: 5px;
        }

        .param-name {
            font-family: 'Courier New', monospace;
            background: #f1f8ff;
            padding: 2px 6px;
            border-radius: 4px;
            color: #3F72AF;
            font-weight: bold;
        }

        .example-code {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 1rem 0;
            color: #495057;
        }

        .example-item a {
            word-break: break-all;
            display: inline-block;
            max-width: 100%;
        }

        .info-text {
            background: #F9F7F7;
            border-left: 4px solid #3F72AF;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .warning-box h4 {
            color: #856404;
            margin-top: 0;
        }

        .example-item {
            background: #F9F7F7;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #3F72AF;
            margin-bottom: 12px;
        }

        .example-title {
            font-weight: 700;
            color: #3F72AF;
            margin-bottom: 0.5rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: #3F72AF;
            color: #fff;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 10px;
        }

        .step-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1.5rem;
        }

        .step-content {
            flex: 1;
        }

        .step-content h4 {
            margin: 0 0 0.5rem 0;
            color: #112D4E;
        }

        .formula-box {
            background: #112D4E;
            color: #F9F7F7;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            text-align: center;
            font-size: 1.1rem;
        }

        .highlight {
            background: #DBE2EF;
            padding: 2px 6px;
            border-radius: 4px;
            color: #112D4E;
        }

        /* 目次スタイル */
        .toc {
            background: #F9F7F7;
            border: 2px solid #3F72AF;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .toc h3 {
            margin: 0 0 1rem 0;
            color: #3F72AF;
            border-bottom: 2px solid #3F72AF;
            padding-bottom: 0.5rem;
        }

        .toc-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .toc-list li {
            margin: 0.5rem 0;
        }

        .toc-list a {
            color: #112D4E;
            text-decoration: none;
            display: block;
            padding: 8px 12px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .toc-list a:hover {
            background: #DBE2EF;
            color: #3F72AF;
            transform: translateX(5px);
        }

        .toc-list .toc-number {
            display: inline-block;
            width: 24px;
            height: 24px;
            background: #3F72AF;
            color: #F9F7F7;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-size: 12px;
            margin-right: 10px;
        }

        /* スムーズスクロール */
        html {
            scroll-behavior: smooth;
        }

        section[id] {
            scroll-margin-top: 20px;
        }

        /* 完全版セクション追加スタイル */
        .sync-example {
            background: #e8f4f8;
            border-left: 4px solid #17a2b8;
            padding: 1rem;
            border-radius: 0 8px 8px 0;
            margin: 1rem 0;
        }

        .multi-example {
            background: #f8e8f4;
            border-left: 4px solid #9c27b0;
            padding: 1rem;
            border-radius: 0 8px 8px 0;
            margin: 1rem 0;
        }

        .sync-example h5,
        .multi-example h5 {
            margin: 0 0 0.5rem 0;
            color: inherit;
        }
        /* 該当のinfo-text要素の下に余白を追加 */
        #simple-procedure .info-text {
            margin-bottom: 2rem;
        }
    </style>
    <link rel="stylesheet" href="simulation.css?ver=9.3.0">
</head>

<body>
    <div class="container">
        <header id="title-wrapper">
            <a href="home" class="titleText">
                <h1><span>サイトスワップ</span><span>マスター</span></h1>
            </a>
            <div class="subtitle">接続パターン計算ガイド</div>
        </header>

        <main>
            <!-- 目次 -->
            <section>
                <div class="toc">
                    <h3>目次</h3>
                    <ol class="toc-list">
                        <li><a href="#overview"><span class="toc-number">1</span>概要</a></li>
                        <li><a href="#basic-concept"><span class="toc-number">2</span>基本的な考え方</a></li>
                        <li><a href="#simple-procedure"><span class="toc-number">3</span>計算手順【簡易版】</a></li>
                        <li><a href="#full-procedure"><span class="toc-number">4</span>計算手順【完全版】</a></li>
                        <li><a href="#examples"><span class="toc-number">5</span>具体例</a></li>
                        <li><a href="#common-patterns"><span class="toc-number">6</span>よくある接続パターン</a></li>
                        <li><a href="#tips"><span class="toc-number">7</span>計算のコツ</a></li>
                    </ol>
                </div>
            </section>

            <section id="overview">
                <h2>1. 概要</h2>
                <p>サイトスワップの接続パターンとは、あるサイトスワップから別のサイトスワップへ移行するためのパターンのことです。サイトスワップを切り替える際、ボールの着地タイミングが正しく接続されていないと、衝突や空白が生じてしまいます。
                    このガイドでは、接続パターンを計算する手順を解説します。</p>
                <div class="info-text">
                    <strong>接続パターンとは？</strong><br>
                    例えば、3ボールカスケード（333...）から3ボールシャワー(515151...)へ移行する際、いきなり切り替えることはできません。
                    移行するためには、333→4→515151→2→333のように接続パターン(今回の場合「4」と「2」が接続パターン)を間に挟む必要があります。
                </div>
                <p>実際の接続パターンは、<a href="transition"
                        style="color: #3F72AF; text-decoration: underline;">接続パターン計算ツール</a>で自動的に算出することができます。</p>
                <p>計算のロジックは <a href="https://github.com/umezawa0513/umejugg-siteswapmaster/blob/main/siteswapLab.js"
                        target="_blank" rel="noopener noreferrer"
                        style="color: #3F72AF; text-decoration: underline;">GitHub (siteswapLab.js)</a> から確認できます。</p>
            </section>

            <section id="basic-concept">
                <h2>2. 基本的な考え方</h2>

                <p>接続パターンの計算には、「状態（state）」という概念を使用します。</p>

                <div class="example-item">
                    <div class="example-title">状態（state）とは</div>
                    <p>ある時点で、どの拍にボールが着地(キャッチ)する予定かを示す情報です。
                        例えば、3ボールカスケードの状態は <span class="param-name">{0,1,2}</span> と表されます。</p>
                    <p>この状態は、0拍後に1つ、1拍後に1つ、2拍後に1つ手に落ちてくるという意味になります。</p>
                </div>

                <p>例えば、サイトスワップ「3」（3ボールカスケード）の状態は<span class="param-name">{0,1,2}</span> ですが、サイトスワップ「51」（3ボールシャワー）の状態は
                    <span class="param-name">{0,1,3}</span>
                    であり、状態が異なります。このとき、サイトスワップ「51」では3拍後にボールが手に落ちてきてほしいが、サイトスワップ「3」では2拍後にボールが手に落ちてくる予定のため、1拍早くボールが落ちてきてしまうということになります。
                </p>
                <p>このように、サイトスワップごとに特有の「状態」があり、状態が一致しないパターンへはそのまま移行することができません。
                </p>
                <p>そのため、「3」のあとに「4」を投げることによって、状態を{0,1,3}に変更し、接続を可能にすることができます。(つまり、3拍後にボールが落ちてくるようになる)</p>
            </section>

            <section id="simple-procedure">
                <h2>3. 計算手順【簡易版】</h2>
                <p>計算手順【簡易版】では、マルチを含まないアシンクロサイトスワップのみを対象とします。マルチサイトスワップやシンクロサイトスワップは、<a href="#full-procedure" style="color: #3F72AF;">計算手順【完全版】</a>で計算できます。</p>
                <div class="info-text">
                    <strong>計算例
                    </strong><br>
                    初期パターン「744」<br>
                    と<br>
                    目標パターン「915」<br>
                    の接続計算を説明します。
                </div>
                <div class="step-item">
                    <span class="step-number">1</span>
                    <div class="step-content">
                        <h4>最大数値分だけ逆順にして並べる</h4>
                        <div class="example-code">
                            「744」を逆順に並べるので、4→4→7→4→…のように並べます。「744」の最大数値は「7」なので、「4,4,7,4,4,7,4」となります。<br>
                            同様に、<br>
                            「915」を逆順に並べるので、5→1→9→5→…のように並べます。「915」の最大数値は「9」なので、「5,1,9,5,1,9,5,1,9」となります。
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">2</span>
                    <div class="step-content">
                        <h4>求めた数列から昇順の連続整数「1,2,...,n」を引く</h4>
                        <div class="example-code">
                            例えば、7つの要素がある場合は「1,2,3,4,5,6,7」を各要素から引きます。<br>
                            「4,4,7,4,4,7,4」-「1,2,3,4,5,6,7」= 「3,2,4,0,-1,1,-3」<br>
                            同様に、<br>
                            「5,1,9,5,1,9,5,1,9」-「1,2,3,4,5,6,7,8,9」=「4,-1,6,1,-4,3,-2,-7,0」
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">3</span>
                    <div class="step-content">
                        <h4>求めた数列から負の数を除去し、昇順に並べる</h4>
                        <div class="example-code">
                            「3,2,4,0,-1,1,-3」→「0,1,2,3,4」<br>
                            同様に、<br>
                            「4,-1,6,1,-4,3,-2,-7,0」→「0,1,3,4,6」
                        </div>
                        <p>これで、<br>
                            「744」の状態は{0,1,2,3,4}、<br>
                            「915」の状態は{0,1,3,4,6}<br>
                            と求まりました。</p>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">4</span>
                    <div class="step-content">
                        <h4>初期パターンの現在の状態(集合)に対して、すべての要素から1を引く</h4>
                        <div class="example-code">
                            初期パターン「744」の現在の状態は{0,1,2,3,4}なので、この集合からそれぞれ1を引いて、{-1,0,1,2,3}とします。
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">5</span>
                    <div class="step-content">
                        <h4>目標パターンの現在の状態(集合)に対して、-iを追加する(※iはループ回数)</h4>
                        <div class="example-code">
                            目標パターン「915」の現在の状態は{0,1,3,4,6}なので、この集合に-1を追加して、{-1,0,1,3,4,6}とします。<br>
                            ⑥から⑤に戻ってきた場合は、-2、さらに戻ってきた場合は-3を追加します。<br>
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">6</span>
                    <div class="step-content">
                        <h4>④で求めた集合が⑤で求めた集合の部分集合になるまで④と⑤の操作を繰り返す</h4>
                        <div class="example-code">
                            {-1,0,1,2,3}は{-1,0,1,3,4,6}の部分集合ではないため、再度④と⑤を適用します。<br>
                            ④と⑤の適用結果、{-2,-1,0,1,2}と{-2,-1,0,1,3,4,6}となります。<br>
                            {-2,-1,0,1,2}は{-2,-1,0,1,3,4,6}の部分集合ではないため、再度④と⑤を適用します。<br>
                            ④と⑤の適用結果、{-3,-2,-1,0,1}と{-3,-2,-1,0,1,3,4,6}となります。<br>
                            {-3,-2,-1,0,1}は{-3,-2,-1,0,1,3,4,6}の部分集合であるため、終了します。<br>
                        </div>
                        <p>【計算の流れ】③→④→⑤→部分集合判定(失敗)→④→⑤→部分集合判定(失敗)→④→⑤→部分集合判定(成功)→⑦</p>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">7</span>
                    <div class="step-content">
                        <h4>求めた集合から差集合を求める</h4>
                        <div class="example-code">
                            {-3,-2,-1,0,1,3,4,6}に含まれるが{-3,-2,-1,0,1}に含まれない要素を書き出します。<br>
                            つまり、{3,4,6}となります。
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">8</span>
                    <div class="step-content">
                        <h4>求めた集合を昇順に並べ、降順の連続整数[n, n-1, ..., 1]を足す</h4>
                        <div class="example-code">
                            {3,4,6}を昇順に並べると「3,4,6」となります。これに要素数から1までの降順列「3,2,1」を足します。<br>
                            結果は「6,6,7」となります。
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">9</span>
                    <div class="step-content">
                        <h4>【完成】10以上はアルファベットに変換後、結合して完成</h4>
                        <div class="example-code">
                            「6,6,7」を結合して、「667」となります。<br>
                        </div>
                        <p>これで、接続パターン「667」が求まりました。<br>
                            初期パターン「744」→接続パターン「667」→目標パターン「915」</p>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">10</span>
                    <div class="step-content">
                        <h4>【他の接続パターンの求め方】⑦で求めた集合を自由に並び替え、降順の連続整数[n, n-1, ..., 1]を足す(このとき負の数があればその並び替えでは不可能)</h4>
                        <div class="example-code">
                            {3,4,6}を自由に並び替えると「6,3,4」があります。これに要素数から1までの降順列「3,2,1」を足します。<br>
                            結果は「9,5,5」となります。計算結果に負の数が存在しないため、この並び替えは有効です。<br>
                            今回の場合、{3,4,6}に負の数が存在しないため、どのように並び替えても計算結果はすべて正となり、すべて有効な接続パターンとなります。<br>
                            つまり3!=6通りの接続パターンが存在します。(接続パターン3周期におけるすべてのパターンです)。<br>
                            その他の周期の接続パターンを求める場合、⑥での部分集合判定において成功しても終了せずもう一度部分集合となるまで繰り返すことで3周期以上の接続パターンを求めることができます。
                        </div>
                        <p>これで、接続パターン「955」が求まりました。<br>
                            初期パターン「744」→接続パターン「955」→目標パターン「915」</p>
                    </div>
                </div>

            </section>

            <section id="full-procedure">
                <h2>4. 計算手順【完全版】</h2>
                <p>完全版では、マルチプレックス（同時に複数のボールを投げる）とシンクロパターン（両手同時投げ）にも対応した計算手順を解説します。</p>

                <div class="info-text">
                    <strong>完全版の対応範囲</strong><br>
                    <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                        <li>アシンクロパターン（通常の交互投げ）</li>
                        <li>シンクロパターン（両手同時投げ）</li>
                        <li>マルチプレックス（同時に複数投げ）</li>
                        <li>上記の組み合わせ</li>
                    </ul>
                </div>

                <h3>4.1 シンクロパターンの変換</h3>
                <p>シンクロパターンは、計算のために一度アシンクロ形式に変換します。</p>

                <div class="sync-example">
                    <h5>シンクロ→アシンクロ変換の例</h5>
                    <p>シンクロパターン <span class="param-name">(4,4)</span> は以下のようにアシンクロに変換されます：</p>
                    <div class="example-code">
                        (4,4) → 44（各手の値をそのまま並べる）
                        (4x,2x) → 53（クロス投げは値を調整: 右手4x→5-1=4→5, 左手2x→2+1=3）
                    </div>
                    <p>変換ルール：</p>
                    <ul>
                        <li>右手（偶数インデックス）のクロス(x)は値を+1</li>
                        <li>左手（奇数インデックス）のクロス(x)は値を-1</li>
                    </ul>
                </div>

                <h3>4.2 マルチプレックスの状態計算</h3>
                <p>マルチプレックスパターンでは、同じタイミングで複数のボールが着地することがあります。</p>

                <div class="multi-example">
                    <h5>マルチプレックスの状態の例</h5>
                    <p>パターン <span class="param-name">[54]23</span> の状態計算：</p>
                    <div class="example-code">
                        [54]23 の各投げ：
                        - 拍0: [54] → 5と4を同時に投げる
                        - 拍1: 2
                        - 拍2: 3

                        状態計算：
                        - 5は5拍後に着地 → 状態に5-1=4を追加
                        - 4は4拍後に着地 → 状態に4-1=3を追加
                        - 2は2拍後に着地 → 状態に2-1=1を追加
                        - 3は3拍後に着地 → 状態に3-1=2を追加

                        状態: {0, 1, 2, 3, 4}（5ボール）
                    </div>
                </div>

                <h3>4.3 接続投げの計算アルゴリズム</h3>

                <div class="step-item">
                    <span class="step-number">1</span>
                    <div class="step-content">
                        <h4>状態のシフト</h4>
                        <p>開始状態を1ずつ減らしながら、目標状態の部分集合になるまで繰り返します。</p>
                        <div class="example-code">
                            開始状態: {0,1,2} → {-1,0,1} → {-2,-1,0} → ...
                            各ステップで-1になった要素の数を記録
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">2</span>
                    <div class="step-content">
                        <h4>差分の計算</h4>
                        <p>シフト後の状態と目標状態の差分を計算します。</p>
                        <div class="example-code">
                            シフト後の正の値: {0,1}
                            目標状態: {0,1,3}
                            差分: {3}（目標にあってシフト後にない値）
                        </div>
                    </div>
                </div>

                <div class="step-item">
                    <span class="step-number">3</span>
                    <div class="step-content">
                        <h4>投げ値の決定</h4>
                        <p>各拍で投げる値を、差分配列から計算します。</p>
                        <div class="example-code">
                            総拍数: 2
                            拍0での投げ = 差分値 + (総拍数 - 拍番号)
                            例: 差分{3} → 3 + 2 = 5（拍0で5を投げる）
                        </div>
                    </div>
                </div>

                <h3>4.4 シンクロパターンの特殊制約</h3>
                <p>シンクロパターンでは、偶数拍（右手）で「1」を投げることができません（1は左手に渡すことを意味し、シンクロでは両手同時なので不可能）。</p>

                <div class="warning-box">
                    <h4>シンクロの制約</h4>
                    <p>シンクロパターン同士の接続では：</p>
                    <ul>
                        <li>接続パターンの長さは偶数になる</li>
                        <li>偶数位置（右手）では1を投げられない</li>
                        <li>アシンクロで計算後、シンクロ形式に再変換</li>
                    </ul>
                </div>

                <h3>4.5 計算結果のシンクロ変換</h3>
                <p>アシンクロ形式で計算した接続パターンを、シンクロ形式に戻します。</p>

                <div class="sync-example">
                    <h5>アシンクロ→シンクロ変換の例</h5>
                    <div class="example-code">
                        アシンクロ接続: 53
                        シンクロ変換:
                        - 位置0（右手）: 5 → 奇数なので4x
                        - 位置1（左手）: 3 → 奇数なので4x
                        結果: (4x,4x)
                    </div>
                </div>
            </section>

            <section id="examples">
                <h2>5. 具体例</h2>

                <div class="example-item">
                    <div class="example-title">例1：カスケード（3）→ 441</div>
                    <div class="table_component" role="region" tabindex="0">
                        <table>
                            <thead>
                                <tr>
                                    <th>手順</th>
                                    <th>状態</th>
                                    <th>投げる値</th>
                                    <th>説明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>開始</td>
                                    <td>111</td>
                                    <td>-</td>
                                    <td>カスケードの安定状態</td>
                                </tr>
                                <tr>
                                    <td>遷移1</td>
                                    <td>110</td>
                                    <td>4</td>
                                    <td>4を投げて状態変化</td>
                                </tr>
                                <tr>
                                    <td>遷移2</td>
                                    <td>201</td>
                                    <td>5</td>
                                    <td>5を投げて目標状態へ</td>
                                </tr>
                                <tr>
                                    <td>完了</td>
                                    <td>201</td>
                                    <td>4</td>
                                    <td>441パターン開始</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p style="margin-top: 1rem;">接続パターン：<span class="param-name">45</span></p>
                </div>

                <div class="example-item">
                    <div class="example-title">例2：441 → カスケード（3）</div>
                    <div class="table_component" role="region" tabindex="0">
                        <table>
                            <thead>
                                <tr>
                                    <th>手順</th>
                                    <th>状態</th>
                                    <th>投げる値</th>
                                    <th>説明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>開始</td>
                                    <td>201</td>
                                    <td>-</td>
                                    <td>441の安定状態</td>
                                </tr>
                                <tr>
                                    <td>遷移1</td>
                                    <td>120</td>
                                    <td>2</td>
                                    <td>2を投げて状態変化</td>
                                </tr>
                                <tr>
                                    <td>遷移2</td>
                                    <td>111</td>
                                    <td>3</td>
                                    <td>3を投げて目標状態へ</td>
                                </tr>
                                <tr>
                                    <td>完了</td>
                                    <td>111</td>
                                    <td>3</td>
                                    <td>カスケード開始</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p style="margin-top: 1rem;">接続パターン：<span class="param-name">23</span></p>
                </div>

                <div class="example-item">
                    <div class="example-title">例3：シンクロパターン (4,4) → (4x,4x)</div>
                    <p>シンクロパターン同士の接続例です。</p>
                    <div class="example-code">
                        (4,4) の状態: {0,1,2,3}（4ボール）
                        (4x,4x) の状態: {0,2}（偶数のみ、2ボール）
                        ※ボール数が異なるため接続不可

                        同じボール数の例：
                        (6,6) → (6x,4x)(4,6x) の接続
                        アシンクロ変換して計算後、シンクロに戻す
                    </div>
                </div>
            </section>

            <section id="common-patterns">
                <h2>6. よくある接続パターン</h2>

                <p>以下は、よく使われる接続パターンの一覧です。</p>

                <div class="table_component" role="region" tabindex="0">
                    <table>
                        <thead>
                            <tr>
                                <th>開始パターン</th>
                                <th>目標パターン</th>
                                <th>接続パターン</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>3（カスケード）</td>
                                <td>441</td>
                                <td>45</td>
                            </tr>
                            <tr>
                                <td>441</td>
                                <td>3（カスケード）</td>
                                <td>23</td>
                            </tr>
                            <tr>
                                <td>3（カスケード）</td>
                                <td>531</td>
                                <td>52</td>
                            </tr>
                            <tr>
                                <td>531</td>
                                <td>3（カスケード）</td>
                                <td>34</td>
                            </tr>
                            <tr>
                                <td>3（カスケード）</td>
                                <td>423</td>
                                <td>4</td>
                            </tr>
                            <tr>
                                <td>423</td>
                                <td>3（カスケード）</td>
                                <td>2</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="warning-box">
                    <h4>注意</h4>
                    <p>上記の値は仮のものです。実際の計算結果は異なる場合があります。正確な値は専用の計算ツールを使用するか、手計算で確認してください。</p>
                </div>
            </section>

            <section id="tips">
                <h2>7. 計算のコツ</h2>

                <div class="info-text">
                    <strong>平均値の法則</strong><br>
                    接続パターンの数値の平均は、元のパターンのボール数と等しくなります。
                    例えば、3ボールの場合、接続パターンの平均も3になります。
                </div>

                <div class="info-text">
                    <strong>最短経路を見つける</strong><br>
                    複数の接続パターンが存在する場合、一般的には最も短いものが実行しやすいです。
                    ただし、パフォーマンスの見栄えを考慮して、あえて長いトランジションを選ぶこともあります。
                </div>

                <div class="info-text">
                    <strong>対称性を利用する</strong><br>
                    多くのパターンでは、入る接続と出る接続が対称的な関係にあります。
                    一方を覚えれば、もう一方も推測しやすくなります。
                </div>

                <div class="info-text">
                    <strong>シンクロパターンのヒント</strong><br>
                    シンクロパターンでは、接続の長さが常に偶数になります。
                    また、(4x,2x)のようなクロス投げが接続に含まれることが多いです。
                </div>
            </section>
        </main>

        <footer>
            <a href="home" class="back-home-footer">ホームに戻る</a>
            <a href="https://www.twitter.com/messages/compose?recipient_id=869867240644005889" class="contact"
                target="_blank" rel="noopener noreferrer" style="margin-top:7px;">
                質問・要望
            </a>
            <p>&copy; 2021-2026 サイトスワップマスター</p>
        </footer>
    </div>
</body>

</html>
